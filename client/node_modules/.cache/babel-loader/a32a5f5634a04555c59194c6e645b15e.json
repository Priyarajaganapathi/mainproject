{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\nisan\\\\Documents\\\\GitHub\\\\mainproject\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\nisan\\\\Documents\\\\GitHub\\\\mainproject\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\nisan\\\\Documents\\\\GitHub\\\\mainproject\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\nisan\\\\Documents\\\\GitHub\\\\mainproject\\\\client\\\\src\\\\components\\\\mainpages\\\\history\\\\OrderDetails.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { GlobalState } from '../../../GlobalState';\nimport axios from 'axios';\n\nfunction OrderDetails() {\n  var _this = this;\n\n  var state = useContext(GlobalState);\n\n  var _state$userAPI$histor = _slicedToArray(state.userAPI.history, 1),\n      history = _state$userAPI$histor[0];\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      orderDetails = _useState2[0],\n      setOrderDetails = _useState2[1];\n\n  var _state$userAPI$isAdmi = _slicedToArray(state.userAPI.isAdmin, 1),\n      isAdmin = _state$userAPI$isAdmi[0];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      statusorder = _useState4[0],\n      setstatusorder = _useState4[1];\n\n  var _state$token = _slicedToArray(state.token, 1),\n      token = _state$token[0];\n\n  var params = useParams();\n  useEffect(function () {\n    if (params.id) {\n      console.log(params);\n      history.forEach(function (item) {\n        if (item._id === params.id) setOrderDetails(item);\n        console.log(item);\n      });\n    }\n  }, [params.id, history]);\n  if (orderDetails.length === 0) return null;\n\n  var status = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              console.log(statusorder);\n              window.alert(statusorder);\n              _context.prev = 3;\n              _context.next = 6;\n              return axios.patch(\"/api/payment/\".concat(orderDetails._id), {\n                status: statusorder\n              }, {\n                headers: {\n                  Authorization: token\n                }\n              });\n\n            case 6:\n              _context.next = 10;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](3);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 8]]);\n    }));\n\n    return function status(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"history-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 25\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 25\n    }\n  }, \"Postal Code\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, \"Mobile\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }\n  }, orderDetails.address.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, orderDetails.address.city), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, orderDetails.address.pincode), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, orderDetails.address.mobile)))), /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      margin: \"30px 0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, \"Products\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, \"Quantity\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, \"Price\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, orderDetails.cart.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: item._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.images.url,\n      alt: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }\n    }, item.title), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    }, item.quantity), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    }, \"$ \", item.price * item.quantity));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, console.log(orderDetails), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, \"Status :\", orderDetails.status), isAdmin && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 30\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: status,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, \"update:\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    onClick: function onClick(e) {\n      setstatusorder(e.target.value);\n    },\n    name: \"status\",\n    value: \"Order Placed\",\n    required: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 23\n    }\n  }), \"Order Placed\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 168\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    onClick: function onClick(e) {\n      setstatusorder(e.target.value);\n    },\n    name: \"status\",\n    value: \"Order Dispatched\",\n    required: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 23\n    }\n  }), \"Order Dispatched\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 176\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    onClick: function onClick(e) {\n      setstatusorder(e.target.value);\n    },\n    name: \"status\",\n    value: \"Order Delivered\",\n    required: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 23\n    }\n  }), \"Order Delivered\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 174\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Update\",\n    style: {\n      cursor: \"pointer\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"feedback container border border-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default OrderDetails;","map":{"version":3,"sources":["C:/Users/nisan/Documents/GitHub/mainproject/client/src/components/mainpages/history/OrderDetails.js"],"names":["React","useState","useEffect","useContext","useParams","GlobalState","axios","OrderDetails","state","userAPI","history","orderDetails","setOrderDetails","isAdmin","statusorder","setstatusorder","token","params","id","console","log","forEach","item","_id","length","status","e","preventDefault","window","alert","patch","headers","Authorization","address","name","city","pincode","mobile","margin","cart","map","images","url","title","quantity","price","target","value","cursor"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext} from 'react'\r\nimport {useParams} from 'react-router-dom'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport axios from 'axios'\r\n\r\n\r\n\r\nfunction OrderDetails() {\r\n    const state = useContext(GlobalState)\r\n    const [history] = state.userAPI.history\r\n    const [orderDetails, setOrderDetails] = useState([])\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [statusorder,setstatusorder]=useState();\r\n    const [token] = state.token\r\n    const params = useParams()\r\n\r\n    useEffect(() => {\r\n        if(params.id){\r\n            console.log(params)\r\n            history.forEach(item =>{\r\n                if(item._id === params.id) setOrderDetails(item)\r\n                console.log(item);\r\n            })\r\n        }\r\n    },[params.id, history])\r\n\r\n\r\n    if(orderDetails.length === 0) return null;\r\n\r\n    const status=async(e)=>{\r\n    e.preventDefault();\r\n   console.log(statusorder)\r\n   window.alert(statusorder)\r\n   try {\r\n     await axios.patch(`/api/payment/${orderDetails._id}`,{status:statusorder}, {\r\n        headers: {Authorization: token}\r\n    })\r\n   } catch (error) {\r\n    \r\n   }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"history-page\">\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Address</th>\r\n                        <th>Postal Code</th>\r\n                        <th>Mobile</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>{orderDetails.address.name}</td>\r\n                        <td>{orderDetails.address.city}</td>\r\n                        <td>{orderDetails.address.pincode}</td>\r\n                        <td>{orderDetails.address.mobile}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <table style={{margin: \"30px 0px\"}}>\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>Products</th>\r\n                        <th>Quantity</th>\r\n                        <th>Price</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        orderDetails.cart.map(item =>(\r\n                        <tr key={item._id}>\r\n                            <td><img src={item.images.url} alt=\"\" /></td>\r\n                            <td>{item.title}</td>\r\n                            <td>{item.quantity}</td>\r\n                            <td>$ {item.price * item.quantity}</td>\r\n                        </tr>\r\n                        ))\r\n                    }\r\n                    \r\n                </tbody>\r\n            </table>\r\n\r\n            <div className='container'>\r\n                {console.log(orderDetails)}\r\n                <h3>Status :{orderDetails.status}</h3>\r\n                 {isAdmin && <div>\r\n                <form onSubmit={status}>\r\n                     update:<br></br>\r\n                      <input type='radio' onClick={(e)=>{setstatusorder(e.target.value)}} name='status' value={\"Order Placed\"} required=\"required\"></input>Order Placed<br></br>\r\n                      <input type='radio' onClick={(e)=>{setstatusorder(e.target.value)}} name='status' value={\"Order Dispatched\"} required=\"required\"></input>Order Dispatched<br></br>\r\n                      <input type='radio' onClick={(e)=>{setstatusorder(e.target.value)}} name='status' value={\"Order Delivered\"} required=\"required\"></input>Order Delivered<br></br>\r\n                <input type='submit' value={\"Update\"} style={{cursor:\"pointer\"}}></input> \r\n                </form> \r\n                </div> }\r\n\r\n            </div>\r\n\r\n            <div className='feedback container border border-light'>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderDetails\r\n"]},"metadata":{},"sourceType":"module"}